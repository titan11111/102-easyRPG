<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFé¢¨ æ¡ƒå¤ªéƒã‚¯ã‚¨ã‚¹ãƒˆ - å®Œæˆç‰ˆ</title>
    <style>
        /* å…¨ä½“è¨­å®š */
        body { background-color: #000; color: #fff; font-family: 'MS Gothic', 'Courier New', monospace; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        #game-container { width: 620px; text-align: center; }
        .screen { display: none; }
        .active { display: block; }

        /* FFé¢¨ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ */
        .ff-window {
            background: linear-gradient(180deg, #00008b 0%, #000044 100%);
            border: 3px solid #eee;
            border-radius: 8px;
            box-shadow: inset 0 0 5px #000;
            padding: 10px;
            box-sizing: border-box;
        }

        /* ã‚«ã‚¹ã‚¿ãƒ ãƒ€ã‚¤ã‚¢ãƒ­ã‚° */
        #custom-dialog-overlay {
            position: fixed; top: 0; left: 0; 
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); 
            display: none; 
            justify-content: center; 
            align-items: center; 
            z-index: 1000;
        }
        .dialog-content {
            width: 420px; 
            text-align: center; 
            background: linear-gradient(180deg, #0000bb 0%, #000044 100%);
            border: 4px double #eee;
            padding: 30px;
            border-radius: 8px;
        }
        #dialog-message { 
            margin-bottom: 30px; 
            line-height: 1.6; 
            white-space: pre-wrap; 
            font-size: 18px;
            text-shadow: 2px 2px #000;
        }
        #dialog-ok-btn {
            background: transparent; color: #fff; border: 1px solid #fff; padding: 8px 25px; cursor: pointer; font-size: 16px;
        }

        /* ãƒãƒƒãƒ— */
        #map-grid {
            display: grid; grid-template-columns: repeat(10, 32px); gap: 2px;
            justify-content: center; margin: 15px 0;
            background-color: #222; border: 2px solid #555;
        }
        .cell { width: 32px; height: 32px; display: flex; justify-content: center; align-items: center; font-size: 20px; }
        .cell.wall { background-color: #333; }
        .cell.plain { background-color: #2e8b57; }
        .cell.forest { background-color: #004d00; }
        .cell.lava { background-color: #8b0000; }
        .cell.mountain { background-color: #4b3621; }
        .cell.hero { background-color: #ffd700; border-radius: 50%; color: #000; z-index: 5; }

        /* æˆ¦é—˜ç”»é¢ */
        #battle-screen { position: relative; width: 100%; height: 450px; background-color: #000; }
        .enemy-area { height: 220px; display: flex; justify-content: center; align-items: center; flex-direction: column; }
        .monster-sprite { font-size: 200px; text-shadow: 0 0 15px rgba(255,0,0,0.5); }
        .battle-ui { display: flex; height: 180px; gap: 10px; }
        .command-box { width: 30%; text-align: left; }
        .command-box ul { list-style: none; padding: 0; margin: 0; }
        .command-box li { padding: 8px 15px; cursor: pointer; font-size: 16px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .command-box li:hover { background-color: rgba(255,255,255,0.2); }
        .command-box li::before { content: 'â–¶ '; }
        .status-box { width: 70%; text-align: left; font-size: 16px; overflow-y: auto; }
        .status-row { display: flex; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.2); padding: 5px 0; }
        #battle-log {
            position: absolute; 
            top: -50px; /* 10px ã‹ã‚‰ 60px åˆ†ä¸Šã«ç§»å‹•ï¼ˆ10 - 60 = -50ï¼‰ */
            left: 50%; 
            transform: translateX(-50%);
            width: 85%; 
            background: rgba(0,0,0,0.8); 
            padding: 10px;
            border: 1px solid #fff; 
            min-height: 24px; 
            z-index: 10;
        }
        button { background: #444; color: #fff; border: 1px solid #fff; padding: 5px 15px; cursor: pointer; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="start-screen" class="screen active">
        <div class="ff-window">
            <h1>LEGEND OF MOMOTARO</h1>
            <p>ä»²é–“ã‚’é›†ã‚ã€é¬¼ãƒ¶å³¶ã®é­”ç‹ã‚’è¨ã¦</p>
            <button onclick="startGame()">å†’é™ºã‚’å§‹ã‚ã‚‹</button>
        </div>
    </div>

    <div id="main-screen" class="screen">
        <div class="ff-window" style="margin-bottom:10px;"><span id="area-title">å ´æ‰€</span></div>
        <div id="map-grid"></div>
        <div style="display: flex; justify-content: space-between; align-items: flex-end;">
            <div class="ff-window" style="width: 260px; text-align: left;">
                <div id="st-hp">HP: 100/100</div>
                <div id="st-party">ä¸€è¡Œ: å‹‡è€…</div>
            </div>
            <div id="town-actions" style="display:none;">
                <button onclick="rest()">å®¿å±‹ã§ä¼‘ã‚€</button>
            </div>
            <div class="controls">
                <button onclick="moveHero(0, -1)">â†‘</button><br>
                <button onclick="moveHero(-1, 0)">â†</button>
                <button onclick="moveHero(0, 1)">â†“</button>
                <button onclick="moveHero(1, 0)">â†’</button>
            </div>
        </div>
    </div>

    <div id="battle-screen" class="screen">
        <div id="battle-log">é­”ç‰©ãŒã‚ã‚‰ã‚ã‚ŒãŸï¼</div>
        <div class="enemy-area">
            <div id="monster-sprite" class="monster-sprite">ğŸ‘¾</div>
            <div id="monster-name" style="font-size: 20px;">ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼</div>
        </div>
        <div class="battle-ui">
            <div class="ff-window command-box">
                <ul id="command-list">
                    <li onclick="heroTurn('attack')">ãŸãŸã‹ã†</li>
                    <li onclick="showMagicMenu()">ã¾ã»ã†</li>
                </ul>
                <ul id="magic-list" style="display:none;">
                    <li onclick="heroTurn('heal')">ãƒ’ãƒ¼ãƒ«(5MP)</li>
                    <li onclick="heroTurn('fire')">ãƒ•ã‚¡ã‚¤ã‚¢ãƒ¼(8MP)</li>
                    <li onclick="hideMagicMenu()" style="color: #aaa;">ã‚‚ã©ã‚‹</li>
                </ul>
            </div>
            <div class="ff-window status-box" id="party-status-area"></div>
        </div>
    </div>

    <div id="ending-screen" class="screen">
        <div class="ff-window">
            <h1>HAPPY ENDING</h1>
            <p>ä»²é–“ã¨å…±ã«ä¸–ç•Œã‚’æ•‘ã£ãŸï¼</p>
            <button onclick="location.reload()">ã‚‚ã†ä¸€åº¦</button>
        </div>
    </div>

    <div id="custom-dialog-overlay">
        <div class="ff-window dialog-content">
            <div id="dialog-message"></div>
            <button id="dialog-ok-btn" onclick="closeCustomDialog()">OK</button>
        </div>
    </div>
</div> 

<script>
const hero = { 
    name: "å‹‡è€…", x: 1, y: 1, hp: 100, maxHp: 100, mp: 20, maxMp: 20, 
    atk: 15, mgc: 25, lv: 1, exp: 0, gold: 0, currentArea: "green_field"
};

const shopItems = [
    { name: "éŠ…ã®å‰£", price: 50, atk: 5 },
    { name: "éŠ€ã®å‰£", price: 150, atk: 15 },
    { name: "é»„é‡‘ã®å‰£", price: 500, atk: 50 }
];

const allyData = {
    5: { id: "dog", name: "çŠ¬", hp: 60, maxHp: 60, atk: 12, img: "ğŸ©", msg: "ãƒ¯ãƒ³ï¼ä¸€ç·’ã«æˆ¦ã„ã¾ã™ï¼" },
    6: { id: "bird", name: "ãã˜", hp: 40, maxHp: 40, atk: 20, img: "ğŸ¦†", msg: "ã‚±ãƒ³ã‚±ãƒ³ï¼ç©ºã‹ã‚‰åŠ©ã‘ã¾ã™ï¼" },
    7: { id: "monkey", name: "çŒ¿", hp: 80, maxHp: 80, atk: 10, img: "ğŸ’", msg: "ã‚¦ã‚­ãƒƒï¼ãƒœã‚¯ã‚‚è¡Œãã‚ˆï¼" }
};

let party = [hero];

const monsterTable = {
    "green_field": [
        { name: "ãƒŸãƒç”Ÿå‘½ä½“", hp: 30, atk: 8, exp: 40, gold: 20, img: "ğŸ‘½" },
        { name: "å¤§è›‡", hp: 45, atk: 12, exp: 50, gold: 30, img: "ğŸ" }
    ],
    "dark_forest": [
        { name: "ã‚ªã‚ªã‚ªãƒˆã‚³", hp: 80, atk: 20, exp: 120, gold: 60, img: "ğŸ§Œ" },
        { name: "é™é›»æ°—", hp: 60, atk: 25, exp: 100, gold: 80, img: "ğŸ§" }
    ],
    "lava_cave": [
        { name: "ãƒ‰ã‚¯ãƒ¢ãƒª", hp: 150, atk: 35, exp: 250, gold: 120, img: "ğŸ¦‡" },
        { name: "ãƒ’ãƒˆã‚¯ã‚¤ã‚¸ãƒ£ãƒƒã‚¯", hp: 180, atk: 30, exp: 300, gold: 150, img: "ğŸƒ" }
    ],
    "demon_castle": [
        { name: "æ°´ç¥", hp: 400, atk: 55, exp: 600, gold: 300, img: "ğŸ‰" },
        { name: "ãƒ´ã‚£ãƒ©ãƒ³", hp: 500, atk: 60, exp: 800, gold: 500, img: "ğŸ¦¹" }
    ]
};

const worldMaps = {
    "green_field": {
        name: "å§‹ã¾ã‚Šã®å¹³åŸ",
        data: [
            [1,1,1,1,1,1,1,1,1,1],
            [1,3,10,10,10,10,10,10,10,0],
            [1,10,10,10,5,10,10,10,10,1],
            [1,2,1,1,10,1,1,1,10,1],
            [1,8,10,10,10,10,10,10,2,1],
            [1,1,1,10,10,10,10,1,1,1],
            [1,10,10,2,1,1,10,10,10,1],
            [1,10,1,1,1,10,10,1,10,1],
            [1,10,10,10,10,10,10,10,10,1],
            [1,1,1,1,1,1,1,1,1,1]
        ],
        exits: { right: "dark_forest" }
    },
    "dark_forest": {
        name: "è¿·ã„ã®æ£®",
        data: [
            [1,1,1,1,1,1,1,1,1,1],
            [0,11,2,11,11,6,11,11,2,1],
            [1,11,1,1,11,1,11,1,11,1],
            [1,11,1,11,11,2,11,1,11,1],
            [1,2,1,11,7,1,11,1,11,1],
            [1,11,11,11,11,11,11,11,11,0],
            [1,1,1,1,1,1,11,1,1,1],
            [1,11,11,11,2,11,11,1,11,1],
            [1,11,1,1,1,1,1,1,11,1],
            [1,1,1,1,1,1,1,1,1,1]
        ],
        exits: { left: "green_field", right: "lava_cave" }
    },
    "lava_cave": {
        name: "ç«ã®æ´çªŸ",
        data: [
            [1,1,1,1,1,1,1,1,1,1],
            [0,12,12,12,12,12,12,2,12,1],
            [1,1,1,1,12,1,1,1,12,1],
            [1,2,12,12,12,1,8,12,12,1],
            [1,12,1,1,1,1,12,1,1,1],
            [1,12,12,12,12,2,12,12,12,0],
            [1,1,1,1,1,1,1,1,12,1],
            [1,2,12,12,12,12,12,2,12,1],
            [1,12,1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1,1,1]
        ],
        exits: { left: "dark_forest", right: "demon_castle" }
    },
    "demon_castle": {
        name: "é­”ç‹ã®å±±",
        data: [
            [1,1,1,1,4,1,1,1,1,1],
            [1,13,13,13,13,13,13,13,13,1],
            [1,13,1,1,1,1,1,1,13,1],
            [1,2,1,13,13,13,13,1,2,1],
            [1,13,13,13,1,1,13,13,13,1],
            [0,13,1,2,1,1,2,1,13,1],
            [1,13,1,13,13,13,13,1,13,1],
            [1,13,13,13,1,1,13,13,13,1],
            [1,1,1,1,1,1,1,1,1,1],
            [1,1,1,1,1,1,1,1,1,1]
        ],
        exits: { left: "lava_cave" }
    }
};

let currentEnemy = null;
let canAttack = true;

function drawMap() {
    const mapInfo = worldMaps[hero.currentArea];
    document.getElementById('area-title').innerText = mapInfo.name;
    const grid = document.getElementById('map-grid');
    grid.innerHTML = '';
    
    mapInfo.data.forEach((row, y) => {
        row.forEach((type, x) => {
            const cell = document.createElement('div');
            cell.className = 'cell';
            if (type === 1) cell.classList.add('wall');
            if (type === 10) cell.classList.add('plain');
            if (type === 11) cell.classList.add('forest');
            if (type === 12) cell.classList.add('lava');
            if (type === 13) cell.classList.add('mountain');

            if (x === hero.x && y === hero.y) {
                cell.innerText = 'ğŸš¶'; cell.classList.add('hero');
            } else if (type >= 5 && type <= 7) {
                cell.innerText = allyData[type].img;
            } else {
                const icons = { 2: 'ğŸ‘¾', 3: 'ğŸ ', 4: 'ğŸ˜ˆ', 8: 'ğŸ¬', 11: 'ğŸŒ²', 12: 'ğŸ”¥', 13: 'â›°ï¸' }; 
                cell.innerText = icons[type] || '';
            }
            grid.appendChild(cell);
        });
    });
}

function moveHero(dx, dy) {
    let nx = hero.x + dx, ny = hero.y + dy;
    const map = worldMaps[hero.currentArea];

    // ã‚¨ãƒªã‚¢ç§»å‹•ã®åˆ¤å®šï¼ˆç”»é¢å¤–ã¸å‡ºã‚ˆã†ã¨ã—ãŸã¨ãï¼‰
    if (nx < 0 && map.exits.left) { 
        hero.currentArea = map.exits.left; 
        hero.x = 9; // æ¬¡ã®ãƒãƒƒãƒ—ã®å³ç«¯ã‹ã‚‰å‡ºç¾
        drawMap(); updateStatus(); return;
    }
    if (nx > 9 && map.exits.right) { 
        hero.currentArea = map.exits.right; 
        hero.x = 0; // æ¬¡ã®ãƒãƒƒãƒ—ã®å·¦ç«¯ã‹ã‚‰å‡ºç¾
        drawMap(); updateStatus(); return;
    }

    // é€šå¸¸ç§»å‹•ã®ç¯„å›²ãƒã‚§ãƒƒã‚¯
    if (nx >= 0 && nx <= 9 && ny >= 0 && ny <= 9) {
        const tile = map.data[ny][nx];
        if (tile === 1) return; // å£ã¯é€²ã‚ãªã„
        hero.x = nx; hero.y = ny;
        if (tile >= 5 && tile <= 7) addAlly(tile);
        if (tile === 2) startBattle();
        if (tile === 3) document.getElementById('town-actions').style.display = 'block';
        else document.getElementById('town-actions').style.display = 'none';
        if (tile === 8) showShop(); 
        if (tile === 4) startBossBattle();
    }
    drawMap(); updateStatus();
}

function addAlly(type) {
    const ally = allyData[type];
    if (!party.find(m => m.name === ally.name)) {
        party.push({ ...ally });
        showAlert(`${ally.name}:ã€Œ${ally.msg}ã€\n\n${ally.name}ãŒä»²é–“ã«åŠ ã‚ã£ãŸï¼`);
        worldMaps[hero.currentArea].data[hero.y][hero.x] = 0; 
    }
}

// --- 3. æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯ ---
function startBattle() {
        // ç¾åœ¨ã®ã‚¨ãƒªã‚¢ã®ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ãƒªã‚¹ãƒˆã‚’å–å¾—
        const areaMonsters = monsterTable[hero.currentArea];
        // ãƒªã‚¹ãƒˆã®ä¸­ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«1ä½“ã‚’é¸æŠ
        const randomIndex = Math.floor(Math.random() * areaMonsters.length);
        currentEnemy = { ...areaMonsters[randomIndex] };
        
        initBattle();
    }

    function startBossBattle() {
        currentEnemy = { name: "é­”ç‹", hp: 1000, atk: 60, exp: 0, img: "ğŸ‘¹" };
        initBattle();
    }
function startBossBattle() {
    currentEnemy = { name: "é­”ç‹", hp: 1000, atk: 60, exp: 0, img: "ğŸ‘¹" };
    initBattle();
}
function initBattle() {
    canAttack = true;
    document.getElementById('monster-name').innerText = currentEnemy.name;
    document.getElementById('monster-sprite').innerText = currentEnemy.img;
    document.getElementById('battle-log').innerText = `${currentEnemy.name}ãŒã‚ã‚‰ã‚ã‚ŒãŸï¼`;
    updateBattleStatus();
    showScreen('battle-screen');
}
function updateBattleStatus() {
    const area = document.getElementById('party-status-area');
    area.innerHTML = '<div style="border-bottom: 1px solid #fff; margin-bottom: 5px;">NAME &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HP</div>';
    party.forEach(m => {
        area.innerHTML += `<div class="status-row"><span>${m.name}</span><span>${m.hp} / ${m.maxHp}</span></div>`;
    });
}
function heroTurn(action) {
    if (!canAttack) return;
    canAttack = false;
    hideMagicMenu();
    if (action === 'attack') { performAttack(hero); } 
    else if (action === 'heal') {
        if (hero.mp < 5) { showAlert("MPãŒè¶³ã‚Šã¾ã›ã‚“ï¼"); canAttack = true; return; }
        hero.mp -= 5; hero.hp = Math.min(hero.maxHp, hero.hp + 50);
        document.getElementById('battle-log').innerText = "å‹‡è€…ã¯ãƒ’ãƒ¼ãƒ«ã‚’å”±ãˆãŸï¼å›å¾©ï¼";
    } 
    else if (action === 'fire') {
        if (hero.mp < 8) { showAlert("MPãŒè¶³ã‚Šã¾ã›ã‚“ï¼"); canAttack = true; return; }
        hero.mp -= 8; performAttack(hero, true);
    }
    if (currentEnemy.hp > 0) setTimeout(partyTurn, 800);
    else setTimeout(winBattle, 800);
}
function partyTurn() {
        let index = 1; // 0ç•ªç›®ã¯å‹‡è€…ãªã®ã§1ç•ªç›®ï¼ˆä»²é–“ï¼‰ã‹ã‚‰é–‹å§‹
        
        function nextAlly() {
            // 1. ã¾ãšæ•µãŒã™ã§ã«å€’ã•ã‚Œã¦ã„ãªã„ã‹ãƒã‚§ãƒƒã‚¯
            if (currentEnemy.hp <= 0) {
                winBattle();
                return;
            }

            // 2. ã¾ã ä»²é–“ãŒæ®‹ã£ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
            if (index < party.length) {
                const member = party[index];
                if (member.hp > 0) {
                    performAttack(member);
                    index++;
                    // æ¬¡ã®ä»²é–“ã®è¡Œå‹•ã¾ã§å°‘ã—å¾…æ©Ÿ
                    setTimeout(nextAlly, 800);
                } else {
                    // ä»²é–“ãŒæˆ¦é—˜ä¸èƒ½ãªã‚‰æ¬¡ã®äººã¸
                    index++;
                    nextAlly();
                }
            } else {
                // 3. å…¨å“¡ã®è¡Œå‹•ãŒçµ‚ã‚ã£ã¦ã€ã¾ã æ•µãŒç”Ÿãã¦ã„ã‚Œã°æ•µã®ã‚¿ãƒ¼ãƒ³ã¸
                if (currentEnemy.hp > 0) {
                    setTimeout(enemyTurn, 800);
                } else {
                    winBattle();
                }
            }
        }
        nextAlly();
    }
function performAttack(attacker, isMagic = false) {
    let dmg = isMagic ? hero.mgc : attacker.atk + Math.floor(Math.random() * 10);
    currentEnemy.hp -= dmg;
    document.getElementById('battle-log').innerText = `${attacker.name}ã®æ”»æ’ƒï¼${currentEnemy.name}ã«${dmg}ã®ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼`;
    updateBattleStatus();
}
function enemyTurn() {
    const target = party[Math.floor(Math.random() * party.length)];
    let dmg = Math.max(1, currentEnemy.atk - 5);
    target.hp -= dmg;
    document.getElementById('battle-log').innerText = `${currentEnemy.name}ã®æ”»æ’ƒï¼${target.name}ã¯${dmg}ã®ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼`;
    updateBattleStatus();
    if (hero.hp <= 0) { showAlert("å‹‡è€…ãŒåŠ›å°½ããŸ..."); setTimeout(() => location.reload(), 2000); }
    else { setTimeout(() => { canAttack = true; document.getElementById('battle-log').innerText = "ã‚³ãƒãƒ³ãƒ‰ã‚’é¸ã‚“ã§ãã ã•ã„"; }, 800); }
}
function winBattle() {
    if (currentEnemy.name === "é­”ç‹") showScreen('ending-screen');
    else {
        document.getElementById('battle-log').innerText = `${currentEnemy.name}ã‚’å€’ã—ãŸï¼ ${currentEnemy.gold}Gã‚’æ‰‹ã«å…¥ã‚ŒãŸï¼`;
        hero.exp += currentEnemy.exp;
        hero.gold += currentEnemy.gold; 
        worldMaps[hero.currentArea].data[hero.y][hero.x] = 0;
        checkLevelUp();
        setTimeout(() => { showScreen('main-screen'); drawMap(); updateStatus(); }, 1200);
    }
}
function showMagicMenu() { document.getElementById('command-list').style.display='none'; document.getElementById('magic-list').style.display='block'; }
function hideMagicMenu() { document.getElementById('command-list').style.display='block'; document.getElementById('magic-list').style.display='none'; }
function checkLevelUp() { if (hero.exp >= hero.lv * 100) { hero.lv++; hero.atk += 10; hero.maxHp += 20; hero.hp = hero.maxHp; showAlert(`ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ï¼\nãƒ¬ãƒ™ãƒ« ${hero.lv} ã«ãªã£ãŸï¼`); } }
function rest() { hero.hp = hero.maxHp; hero.mp = hero.maxMp; updateStatus(); showAlert("å®¿å±‹ã§ä¼‘ã‚“ã§å…¨å¿«ã—ãŸï¼"); }
function updateStatus() { document.getElementById('st-hp').innerText = `HP: ${hero.hp}/${hero.maxHp} | Gold: ${hero.gold}G`; document.getElementById('st-party').innerText = "ä¸€è¡Œ: " + party.map(m => m.name).join(", "); }
function showScreen(id) { document.querySelectorAll('.screen').forEach(s => s.classList.remove('active')); document.getElementById(id).classList.add('active'); }
function startGame() { showScreen('main-screen'); drawMap(); updateStatus(); }
function showShop() {
    let msg = "æ­¦å™¨å±‹ã¸ã‚ˆã†ã“ãï¼\n";
    shopItems.forEach((item, index) => { msg += `${index}: ${item.name} (${item.price}G) [+${item.atk}]\n`; });
    const choice = prompt(msg);
    if (choice !== null && shopItems[choice]) {
        const item = shopItems[choice];
        if (hero.gold >= item.price) { hero.gold -= item.price; hero.atk += item.atk; showAlert(`${item.name}ã‚’è³¼å…¥ï¼`); updateStatus(); }
        else { showAlert("ã‚´ãƒ¼ãƒ«ãƒ‰ãŒè¶³ã‚Šã¾ã›ã‚“ï¼"); }
    }
}
function showAlert(text) { document.getElementById('dialog-message').innerText = text; document.getElementById('custom-dialog-overlay').style.display = 'flex'; }
function closeCustomDialog() { document.getElementById('custom-dialog-overlay').style.display = 'none'; }
</script>
</body>
</html>